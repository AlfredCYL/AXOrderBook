# -*- coding: utf-8 -*-

import logging
import datetime
from time import localtime
import os
import behave.test.test_axob as behave

if __name__== '__main__':
    myname = os.path.split(__file__)[1][:-3]
    mytime = str(datetime.datetime(*localtime()[:6])).replace(':',"").replace('-',"").replace(" ","_")

    logger = logging.getLogger('main')
    logger.setLevel(logging.DEBUG)

    # fh = logging.FileHandler(f'log/{myname}_{mytime}.log')
    fh = logging.FileHandler(f'log/{myname}.log', mode='w')
    fh.setLevel(logging.DEBUG)

    sh = logging.StreamHandler()
    sh.setLevel(logging.WARNING)

    formatter_ts = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')
    formatter_nts = logging.Formatter('%(name)s - %(levelname)s - %(message)s')
    fh.setFormatter(formatter_nts)
    sh.setFormatter(formatter_ts)

    logger.addHandler(fh)
    logger.addHandler(sh)
    logPack = logger.debug, logger.info, logger.warn, logger.error

    # logger.info('starting TEST_axob')
    # behave.TEST_axob_rolling(date=20220422, instrument=1, n_max=0, rolling_gap=5, begin_section=None) # 240 sec
    # behave.TEST_axob_rolling(date=20220422, instrument=1, n_max=0, rolling_gap=5, begin_section='20220422_000001_0_5_94006000')
    # behave.TEST_axob(20220422, 1, 0) # 100 sec


    # logger.info('starting TEST_axob')
    # behave.TEST_axob_rolling(date=20220425, instrument=2594, n_max=0, rolling_gap=10, begin_section=None) # 849 sec
    # behave.TEST_axob(20220425, 2594, 0) # 580 sec

    # logger.info('starting TEST_axob')
    # behave.TEST_axob(20220426, 300750, 0) # 656.5222 sec

    # logger.info('starting TEST_axob')
    # behave.TEST_axob(20220817, 301192, 0)

    # logger.info('starting TEST_axob')
    # behave.TEST_axob(20220817, 300635, 0)

    # logger.info('starting TEST_axob')
    # behave.TEST_axob(20220817, 728, 0)

    # logger.info('starting TEST_axob')
    # behave.TEST_axob(20220817, 2231, 0)

    # logger.info('starting TEST_axob')
    # behave.TEST_axob(20220817, 300024, 0)

    # logger.info('starting TEST_axob')
    # behave.TEST_axob(20220817, 300274, 0)

    # logger.info('starting TEST_axob')
    # behave.TEST_axob(20220817, 300177, 0)

    # logger.info('starting TEST_axob')
    # behave.TEST_axob(20220817, 301330, 0)

    # logger.info('starting TEST_axob')
    # behave.TEST_axob(20220817, 300536, 0)

    # logger.info('starting TEST_axob')
    # behave.TEST_axob(20220817, 300753, 0)

    # 创业板新股，触发盘中临时停牌
    # logger.info('starting TEST_axob')
    # behave.TEST_axob(20220729, 301269, 0, openCall_only=True)

    ###测试新股，开盘集合竞价到连续竞价前休市
    # logger.info('starting TEST_axob_bat')
    # data_source = "data/20220817/sbe_2022_11_04__11_58_45.txt"
    # new_stock=[301192, 301338, 301336, 301330]
    # behave.TEST_axob_bat(data_source, new_stock, 0, openCall_only=True) # 94.6138 sec
    
    ###测试委托数最少的100只股票，开盘集合竞价到连续竞价前休市
    # logger.info('starting TEST_axob_bat')
    # data_source = "data/20220817/sbe_2022_11_04__11_58_45.txt"
    # min_inc=[200054, 200045, 200468, 200020, 200706, 200028, 200025, 200152, 200512, 200413, 200553, 200019, 200521, 200581, 200429, 300930, 2930, 200026, 200011, 200029, 200550, 200030, 300492, 200505, 300622, 200992, 2586, 201872, 200037, 200570, 2200, 200530, 200771, 2569, 301035, 200017, 300635, 200596, 301097, 3004, 300426, 300536, 300955, 752, 300442, 2779, 2700, 200726, 2052, 200056, 200058, 2692, 300906, 2836, 300518, 300286, 300645, 300795, 200761, 200055, 2919, 2880, 300374, 300391, 300592, 2819, 301006, 23, 504, 2122, 2319, 695, 300354, 2072, 2499, 2778, 301129, 300911, 300756, 200016, 2787, 301122, 2159, 200541, 200869, 301080, 2735, 301101, 301051, 300656, 300475, 301066, 300938, 300615, 2972, 300953, 300798, 2336, 301235, 300478]
    # behave.TEST_axob_bat(data_source, min_inc, 0, openCall_only=True) # 42 sec
    
    ###测试委托数最多的某10只股票，开盘集合竞价到连续竞价前休市
    # fh.setLevel(logging.INFO)
    # sh.setLevel(logging.WARNING)
    # logger.info('starting TEST_axob_bat')
    # data_source = "data/20220817/sbe_2022_11_04__11_58_45.txt"
    # e = [2231, 300024, 300274, 591, 728, 2460, 2185, 2426, 2308, 300059]
    # behave.TEST_axob_bat(data_source, e, 0, openCall_only=True) #  58.0129 sec

    ##测试委托数最多的100只股票，开盘集合竞价到连续竞价前休市
    # fh.setLevel(logging.INFO)
    # sh.setLevel(logging.ERROR)
    # logger.info('starting TEST_axob_bat')
    # data_source = "data/20220817/sbe_2022_11_04__11_58_45.txt"
    # max_inc=[2231, 2709, 2351, 300024, 333, 619, 2600, 2119, 300274, 591, 2506, 2621, 2199, 630, 301269, 899, 2202, 656, 2047, 2514, 709, 3012, 2451, 2369, 2480, 3816, 2337, 728, 2162, 2113, 2460, 2185, 2547, 58, 2405, 2161, 2204, 858, 2346, 2347, 2610, 2129, 2426, 792, 9, 425, 100, 2, 821, 2045, 2475, 2340, 651, 530, 2594, 564, 536, 2685, 868, 2079, 2537, 2241, 2842, 2334, 2329, 2536, 2411, 2308, 2825, 957, 1, 2350, 2375, 2415, 55, 2466, 2689, 2654, 1339, 2553, 2156, 2903, 300059, 2665, 301330, 671, 3035, 2471, 725, 2031, 40, 2077, 625, 2579, 1236, 595, 1258, 629, 2272, 2630]
    # behave.TEST_axob_bat(data_source, max_inc, 0, openCall_only=True)    # 452.8572 sec

    ###测试所有有委托的股票，开盘集合竞价到连续竞价前休市
    # fh.setLevel(logging.INFO)
    # sh.setLevel(logging.ERROR)
    # logger.info('starting TEST_axob_bat')
    # data_source = "data/20220817/sbe_2022_11_04__11_58_45.txt"
    # all_inc=[200054, 200045, 200468, 200020, 200706, 200028, 200025, 200152, 200512, 200413, 200553, 200019, 200521, 200581, 200429, 300930, 2930, 200026, 200011, 200029, 200550, 200030, 300492, 200505, 300622, 200992, 2586, 201872, 200037, 200570, 2200, 200530, 200771, 2569, 301035, 200017, 300635, 200596, 301097, 3004, 300426, 300536, 300955, 752, 300442, 2779, 2700, 200726, 2052, 200056, 200058, 2692, 300906, 2836, 300518, 300286, 300645, 300795, 200761, 200055, 2919, 2880, 300374, 300391, 300592, 2819, 301006, 23, 504, 2122, 2319, 695, 300354, 2072, 2499, 2778, 301129, 300911, 300756, 200016, 2787, 301122, 2159, 200541, 200869, 301080, 2735, 301101, 301051, 300656, 300475, 301066, 300938, 300615, 2972, 300953, 300798, 2336, 301235, 300478, 3011, 301257, 300710, 301029, 300837, 300736, 2870, 300886, 300876, 300833, 3020, 32, 301065, 301025, 2872, 300791, 688, 300523, 300854, 3029, 300557, 300796, 2942, 2767, 2729, 300912, 300540, 301033, 301117, 300550, 300806, 300668, 301169, 300870, 300321, 301057, 301031, 301128, 300530, 300865, 2691, 2293, 300779, 301193, 300695, 300851, 300805, 300654, 300949, 300871, 300399, 300553, 2890, 301053, 300757, 300588, 301073, 300799, 2755, 300929, 2889, 906, 1288, 300937, 2259, 300849, 301228, 3018, 300965, 300935, 7, 300051, 301075, 3005, 3033, 300723, 2949, 2811, 2859, 300277, 200539, 638, 300298, 300916, 301045, 301042, 300069, 300547, 300609, 300910, 300220, 300781, 300845, 300923, 300868, 300989, 300371, 2724, 300958, 300407, 2940, 301017, 301072, 2427, 300203, 300689, 410, 301186, 300517, 300512, 301159, 2760, 301055, 809, 300583, 301182, 301070, 301153, 300915, 301076, 300445, 301118, 300405, 300789, 300380, 300624, 300811, 300486, 3013, 2991, 300462, 300651, 300927, 300964, 2203, 2849, 300687, 301077, 300984, 300716, 2668, 2976, 301004, 971, 300767, 300808, 300729, 2910, 300539, 300788, 300717, 2986, 3003, 2095, 300977, 300970, 300149, 300515, 2968, 2923, 300971, 1215, 300985, 2644, 668, 411, 2790, 300469, 300907, 2862, 301008, 301085, 300819, 2211, 300813, 301012, 2861, 300686, 2634, 3042, 509, 300268, 300948, 2653, 300993, 2816, 2771, 300030, 300980, 300697, 300679, 301019, 2832, 300892, 2609, 766, 2817, 300176, 2742, 1218, 301000, 2785, 2615, 301096, 300946, 301119, 2356, 300715, 300836, 45, 2098, 300564, 300950, 300538, 300820, 300978, 300614, 300818, 679, 3017, 300150, 300417, 300643, 2058, 300562, 300669, 300909, 300983, 300640, 2981, 300508, 300894, 300556, 2069, 300952, 802, 200488, 300446, 300895, 1202, 2829, 300942, 2856, 301067, 2857, 300858, 301279, 300461, 300254, 2980, 301185, 2541, 2929, 300761, 2513, 2831, 301022, 2956, 2983, 300621, 301162, 300381, 300578, 2740, 1228, 759, 300875, 300826, 300941, 2749, 3023, 2003, 300356, 1210, 300596, 300593, 300884, 995, 3010, 301237, 300096, 1205, 300982, 2848, 301056, 300633, 2899, 300659, 300878, 300406, 3027, 300718, 300969, 300960, 553, 300947, 301024, 300275, 301020, 2973, 300862, 3036, 300918, 300857, 300711, 300667, 300005, 300025, 2732, 300235, 300995, 300996, 2852, 301148, 300987, 301062, 2675, 2278, 300555, 2907, 300561, 1872, 300649, 2485, 2186, 301079, 1209, 300843, 2792, 300998, 2800, 300887, 300920, 2795, 300885, 300349, 42, 301099, 300488, 953, 1914, 300705, 300815, 2633, 2315, 300282, 2250, 300425, 2937, 301167, 300126, 2780, 590, 2881, 301168, 300632, 300817, 2793, 2971, 301011, 2504, 2774, 300470, 301036, 301043, 20, 300790, 2687, 985, 300642, 300625, 301052, 300631, 2016, 300419, 300434, 300720, 2021, 300785, 301221, 2287, 300559, 301041, 2901, 300260, 300721, 300733, 300560, 300816, 300847, 300291, 2734, 2577, 300155, 300563, 935, 2423, 300571, 1317, 300936, 300680, 2678, 300864, 300961, 2984, 2544, 2801, 300683, 300509, 300928, 719, 2659, 300905, 300341, 2952, 300436, 2420, 2802, 300196, 301023, 1211, 300370, 300257, 300525, 301098, 4, 300653, 300577, 300334, 300973, 2694, 300901, 300780, 301212, 2381, 300246, 301178, 300838, 3025, 300913, 850, 300844, 300548, 2327, 300042, 300694, 301111, 2393, 2099, 300313, 300921, 300558, 2977, 534, 300320, 200012, 3015, 301207, 2731, 2417, 300863, 300641, 300384, 300792, 2102, 2723, 2855, 301113, 2835, 2982, 301160, 2187, 2887, 2453, 2627, 300280, 301081, 2789, 300637, 300473, 300414, 300138, 300992, 300800, 2658, 300382, 300893, 300810, 300169, 300464, 2476, 301058, 3043, 300860, 301213, 300385, 300516, 300591, 301106, 300861, 1296, 300580, 828, 3041, 2343, 300226, 300675, 2947, 2557, 301009, 571, 2025, 300395, 301068, 300599, 300768, 2247, 300658, 48, 300685, 2105, 301001, 300522, 300832, 301286, 300616, 2313, 301083, 663, 2107, 2951, 2913, 300340, 301130, 300940, 36, 2900, 2826, 910, 300852, 300771, 2888, 300991, 2679, 300076, 300281, 301198, 2746, 300605, 300899, 659, 301026, 2103, 300243, 300501, 300294, 2521, 2998, 2430, 300161, 2462, 301110, 300495, 300597, 300245, 300242, 2040, 300269, 2758, 300487, 300430, 301258, 301102, 300218, 300670, 301222, 301158, 300981, 300626, 2905, 300652, 300730, 300908, 300357, 300089, 300797, 2898, 301166, 301108, 3030, 300994, 301263, 929, 2088, 300719, 300881, 300753, 300440, 300746, 300270, 1323, 301015, 300575, 300092, 2912, 300192, 300707, 2969, 300174, 952, 300449, 300725, 300835, 301093, 300579, 2198, 300681, 300210, 2853, 3021, 2637, 300011, 2851, 300584, 2846, 301177, 881, 300703, 2321, 300394, 300358, 300889, 2695, 300682, 301220, 300535, 2399, 300305, 597, 2803, 300388, 300855, 2946, 301003, 2769, 300776, 532, 300765, 300071, 300801, 300531, 301288, 2748, 301086, 2886, 300528, 2301, 677, 2180, 3002, 301005, 2632, 300191, 300620, 300519, 300004, 2726, 300154, 2193, 818, 301239, 300225, 915, 300416, 300755, 300231, 300238, 301087, 300290, 301050, 300822, 523, 301226, 300647, 300829, 300205, 301259, 300411, 2858, 2605, 300890, 300016, 301116, 610, 301002, 301183, 300387, 28, 301010, 300612, 5, 2144, 300454, 300972, 300922, 2054, 626, 790, 300344, 300366, 300448, 300749, 2574, 300338, 301156, 300688, 300967, 300726, 300134, 300828, 300608, 300570, 633, 300988, 300504, 300439, 301188, 2556, 301092, 779, 2773, 301218, 300877, 419, 301038, 301187, 2833, 1226, 2082, 300190, 300404, 2005, 3031, 2403, 2524, 300215, 300365, 2019, 300898, 301048, 300628, 300900, 300897, 2864, 301211, 301027, 300848, 96, 301201, 300873, 2776, 1316, 2006, 300549, 300167, 2029, 300959, 300368, 301049, 2975, 300636, 605, 524, 3026, 300211, 300701, 301229, 300951, 301007, 2799, 300883, 2034, 3001, 300288, 2137, 300055, 698, 300979, 2967, 300896, 300396, 300085, 2076, 300422, 300582, 931, 300427, 2788, 2214, 300306, 300732, 2959, 300713, 300939, 2677, 2873, 2515, 300141, 2875, 300500, 2962, 200725, 300214, 920, 300872, 300206, 300447, 2820, 300171, 3038, 300698, 2908, 2775, 300074, 911, 300162, 300824, 301302, 430, 2394, 2306, 1230, 3032, 300634, 2777, 300925, 3007, 300702, 300050, 300386, 300594, 2032, 2867, 2879, 557, 300604, 813, 2823, 301032, 2318, 301047, 301234, 300283, 301312, 403, 300279, 300630, 2189, 2490, 796, 2492, 529, 300491, 300840, 300494, 2017, 300691, 2961, 806, 2134, 2751, 2412, 300741, 301289, 637, 300266, 300644, 300359, 2878, 2963, 300665, 2376, 300250, 1266, 2718, 300638, 2117, 300888, 301107, 300151, 300514, 300022, 2706, 2582, 2395, 2841, 153, 301088, 3019, 300859, 2320, 1965, 301181, 300600, 2631, 978, 996, 300221, 300869, 300435, 2228, 2955, 300201, 2440, 919, 301233, 156, 593, 300975, 2652, 300173, 30, 2442, 2410, 691, 300731, 300742, 892, 300195, 2928, 300783, 2696, 701, 300248, 300332, 300255, 300919, 576, 301138, 2219, 300375, 300135, 429, 300997, 692, 589, 2190, 301091, 300107, 301069, 300506, 300957, 720, 416, 300230, 301123, 301112, 301151, 300841, 2087, 300063, 301131, 2331, 38, 2728, 200625, 300485, 967, 300453, 300333, 300770, 2897, 852, 712, 300567, 2757, 301208, 2655, 301191, 301059, 300866, 2727, 300648, 29, 2357, 567, 300493, 3037, 2243, 300360, 2838, 948, 300342, 989, 2299, 301180, 2573, 2645, 2988, 300807, 2014, 428, 3000, 300684, 2401, 300402, 300240, 2884, 635, 11, 300762, 2597, 2012, 2093, 2906, 300489, 300183, 301100, 300774, 2286, 2661, 2583, 2221, 737, 300674, 300497, 300572, 2578, 300272, 300113, 2196, 300389, 2116, 300534, 300769, 300137, 2741, 300452, 526, 300034, 1336, 300132, 2496, 1207, 300990, 300814, 2303, 300082, 2650, 300163, 2950, 2783, 573, 2409, 14, 300867, 300119, 31, 2377, 2616, 2643, 2750, 301306, 300880, 300289, 300976, 2175, 616, 26, 300168, 2368, 2224, 301028, 300882, 300766, 301103, 622, 300752, 301266, 721, 300084, 300455, 300700, 301139, 301061, 708, 520, 301150, 2989, 300483, 300543, 2363, 2153, 300678, 2869, 2535, 300314, 2055, 300823, 1201, 990, 2705, 300903, 2324, 777, 2656, 2552, 300309, 300139, 2641, 62, 2721, 300233, 300902, 300424, 300603, 300329, 300244, 2698, 913, 1216, 715, 301127, 3016, 300802, 2837, 2824, 2549, 962, 2664, 300019, 300533, 955, 300239, 301333, 2275, 2042, 2094, 300140, 798, 2522, 2671, 301136, 566, 2686, 2999, 300127, 2722, 2614, 301121, 869, 2212, 300576, 2672, 300739, 300696, 2188, 300157, 300722, 300520, 2066, 2474, 2715, 300853, 6, 2059, 300054, 705, 300657, 407, 301248, 1308, 2225, 2638, 300300, 10, 300834, 300100, 300759, 300932, 885, 300188, 2935, 300662, 2136, 300400, 2360, 2925, 300378, 159, 300466, 301040, 17, 2020, 300401, 1234, 300264, 923, 2242, 2528, 639, 2111, 3039, 16, 300613, 300103, 803, 2876, 2084, 300336, 2892, 2916, 518, 2365, 300511, 2133, 2595, 2109, 300153, 300175, 300181, 300152, 922, 2043, 300484, 2995, 300295, 300247, 2294, 300310, 2891, 2933, 1313, 2993, 2753, 2772, 300664, 301199, 300786, 859, 2667, 300803, 300763, 2798, 300165, 2428, 300581, 300228, 2015, 2996, 300627, 2282, 300541, 300747, 300926, 501, 2265, 2057, 2254, 2781, 300986, 507, 300350, 555, 300775, 300743, 2827, 300745, 2538, 300460, 300529, 2295, 301195, 2941, 3028, 300106, 554, 300709, 782, 2418, 300968, 300962, 2438, 2163, 301030, 300467, 785, 300546, 301063, 2642, 2208, 300931, 2850, 300198, 2484, 2149, 2358, 2237, 2990, 301090, 68, 300262, 685, 2010, 301013, 525, 300825, 2895, 2215, 2701, 300322, 2979, 301268, 300108, 2262, 2590, 300830, 300326, 300232, 300441, 300067, 2205, 2558, 2921, 2253, 300278, 889, 917, 300293, 37, 2683, 300610, 300012, 2813, 596, 2688, 2181, 2441, 2551, 300252, 301179, 2482, 300258, 2322, 300471, 300130, 61, 2545, 2392, 2311, 300545, 2184, 300839, 2037, 2353, 2033, 2581, 2177, 2626, 2039, 900, 300778, 301046, 2494, 300793, 300120, 739, 300369, 2141, 702, 300099, 300619, 301060, 2123, 300457, 300049, 300208, 877, 2491, 300451, 1309, 666, 415, 2216, 2562, 2281, 603, 300607, 2716, 2882, 2847, 300081, 2330, 301135, 300056, 301298, 301256, 300933, 2796, 2209, 300513, 88, 2708, 300586, 2840, 2461, 300301, 908, 528, 300143, 300379, 300234, 2379, 2707, 2927, 300109, 2028, 921, 300013, 300241, 2048, 2479, 888, 2608, 409, 761, 981, 1289, 301190, 300187, 300194, 300045, 300438, 2730, 2170, 2279, 300712, 2372, 301189, 607, 2651, 300423, 880, 2931, 301200, 726, 976, 300692, 2636, 301016, 301206, 300271, 2448, 2201, 300846, 300891, 300629, 681, 301133, 959, 902, 2622, 300879, 300200, 300095, 1219, 2563, 2693, 300693, 3006, 2483, 2752, 2806, 570, 300598, 78, 421, 300311, 2307, 838, 2120, 717, 300128, 612, 300147, 300706, 300318, 2540, 300330, 697, 300304, 19, 300351, 300219, 300429, 2763, 300842, 300585, 300066, 2486, 1268, 300463, 300209, 301236, 300352, 587, 788, 300611, 300292, 300105, 2354, 2669, 300121, 2422, 301215, 2782, 300061, 2628, 2495, 949, 2173, 300415, 301125, 300945, 300672, 2174, 2383, 99, 987, 2397, 2373, 686, 301089, 2592, 652, 2822, 300917, 2258, 300227, 300590, 729, 300020, 300204, 300727, 300532, 1267, 300542, 300552, 789, 2067, 300573, 300018, 951, 2443, 1270, 2568, 2227, 2828, 300148, 300229, 300267, 2244, 586, 2213, 2419, 2702, 886, 2302, 2210, 2110, 300496, 300527, 521, 2229, 300114, 300690, 711, 823, 301137, 2291, 3008, 999, 300392, 514, 300302, 417, 300738, 2865, 655, 300145, 300465, 300661, 2366, 2670, 856, 2380, 657, 300323, 2089, 2997, 2296, 2051, 2863, 2468, 851, 300236, 300256, 301120, 300751, 2917, 2274, 2154, 300164, 300297, 2075, 2267, 300172, 733, 301109, 2571, 628, 833, 2987, 2458, 2681, 300033, 2165, 2893, 301021, 2697, 2649, 300676, 300812, 1213, 300377, 2083, 510, 300029, 2317, 300335, 300617, 2871, 2588, 703, 2737, 300353, 300285, 300758, 718, 811, 89, 300036, 2382, 582, 2138, 1319, 300671, 50, 2232, 150, 2501, 2009, 2766, 300179, 423, 2053, 2948, 2467, 2416, 300212, 300809, 810, 2235, 1208, 300587, 301155, 2223, 300510, 2118, 300482, 300047, 672, 2883, 34, 2620, 2344, 2472, 2362, 300963, 300160, 905, 2238, 2298, 2179, 2805, 301149, 300193, 2316, 2470, 2932, 2078, 2290, 300565, 731, 800, 716, 2970, 300601, 2384, 300412, 300480, 738, 300133, 2222, 300850, 2548, 839, 897, 300966, 300048, 669, 300102, 2736, 300409, 2388, 893, 862, 70, 2733, 548, 300159, 2646, 420, 2280, 2390, 2815, 2596, 2662, 300490, 878, 300308, 301039, 300273, 700, 300041, 2439, 300111, 2985, 488, 2488, 300027, 517, 90, 300213, 300170, 300125, 2945, 300420, 2248, 2408, 901, 300299, 581, 2546, 300589, 2629, 551, 2561, 2599, 601, 2155, 2663, 300943, 2434, 2406, 300197, 300006, 300505, 2660, 2073, 300602, 300324, 2565, 2424, 2739, 2023, 2285, 300009, 300708, 300364, 2387, 2554, 1212, 2489, 3009, 2657, 2046, 2682, 300468, 300363, 300072, 2332, 2550, 300087, 300348, 2623, 2364, 300410, 151, 300666, 300265, 2246, 300146, 2234, 300699, 301318, 300284, 836, 903, 300002, 300251, 973, 801, 2508, 797, 2843, 2022, 300444, 300347, 2378, 559, 300184, 608, 757, 1217, 2283, 300097, 2338, 560, 2026, 997, 401, 2446, 558, 2960, 863, 1696, 300158, 909, 632, 2158, 565, 2096, 793, 2457, 300249, 2759, 300287, 2481, 2106, 2965, 2292, 735, 2502, 402, 300345, 301196, 860, 3040, 300035, 2068, 2821, 861, 650, 2391, 2958, 2004, 598, 2064, 300032, 300237, 2233, 2920, 2809, 2038, 930, 300039, 975, 301082, 816, 300078, 300057, 2115, 8, 2673, 753, 300037, 300421, 563, 2756, 300017, 2674, 2266, 531, 300398, 300040, 301216, 2559, 300043, 2091, 2304, 2478, 2135, 2197, 300303, 848, 2140, 300618, 2206, 993, 623, 300499, 550, 300199, 2049, 2402, 300476, 300177, 615, 927, 707, 2818, 2226, 300787, 300307, 300408, 2097, 2268, 2126, 631, 300537, 2396, 300098, 506, 300777, 2992, 25, 2044, 2511, 300748, 2255, 2252, 2500, 2808, 300831, 300526, 882, 2132, 819, 300595, 2400, 627, 2112, 2839, 300760, 2978, 883, 300073, 2966, 2812, 544, 2171, 300740, 2263, 301278, 2041, 690, 300075, 572, 783, 300315, 426, 300566, 301071, 2151, 2877, 2885, 301217, 2349, 791, 300856, 301018, 2922, 300094, 300355, 2251, 682, 300827, 2911, 1206, 786, 2167, 300046, 2953, 300650, 300956, 300507, 2108, 2269, 2516, 2310, 2612, 2530, 2429, 2065, 2081, 300554, 300327, 2768, 301219, 926, 300259, 2011, 300007, 2943, 2389, 767, 300189, 2791, 2939, 2164, 300450, 300606, 963, 2169, 1227, 300053, 408, 938, 2261, 300737, 35, 2455, 2493, 822, 2314, 2572, 2717, 300222, 300122, 2510, 2063, 300079, 56, 2341, 2312, 2957, 969, 2370, 2425, 505, 2807, 300503, 300677, 680, 950, 2194, 300428, 2325, 300397, 300474, 2007, 300317, 812, 300568, 300623, 300101, 2437, 539, 2830, 301163, 609, 300660, 2539, 636, 2452, 2085, 300479, 2127, 1979, 2413, 300773, 546, 758, 300383, 2580, 925, 300472, 988, 300413, 2444, 599, 2517, 2152, 2635, 516, 49, 158, 543, 980, 2703, 2125, 829, 2191, 300083, 2465, 750, 301078, 2386, 2576, 606, 300316, 301037, 301132, 2690, 2598, 2786, 2712, 898, 2505, 46, 300263, 2178, 2699, 2284, 2611, 2602, 2355, 300782, 498, 300569, 2926, 960, 300663, 2456, 2305, 2160, 2035, 301336, 937, 1318, 538, 300065, 300328, 2868, 300080, 968, 2062, 300070, 541, 300010, 519, 300091, 2566, 39, 300123, 2150, 300337, 300456, 2469, 2100, 301197, 2404, 710, 300217, 300136, 2527, 2297, 2207, 732, 300331, 300129, 1896, 301238, 300639, 300182, 713, 918, 2498, 2130, 799, 2860, 826, 300458, 300296, 2328, 982, 2056, 2532, 755, 300052, 300117, 2520, 2613, 513, 2593, 676, 2591, 301308, 568, 958, 2902, 300443, 2300, 778, 300276, 300223, 2938, 2361, 2192, 2277, 301192, 2640, 2148, 2567, 2273, 965, 533, 2323, 300144, 300673, 2445, 552, 2601, 2589, 2915, 2436, 890, 300021, 300253, 2936, 2264, 300481, 300373, 2001, 300551, 2333, 2845, 300031, 2288, 404, 2092, 300008, 2352, 661, 2024, 537, 932, 2036, 2289, 825, 300821, 2526, 2080, 2542, 301095, 617, 875, 21, 2533, 756, 2585, 2507, 933, 66, 300003, 2433, 300999, 736, 300110, 2249, 2166, 2459, 300093, 2128, 300077, 300319, 727, 2747, 2309, 2146, 887, 300724, 60, 2414, 300142, 830, 300180, 2625, 768, 300224, 2121, 300655, 2647, 27, 2639, 155, 12, 2374, 300403, 2124, 300261, 2061, 2013, 422, 2335, 300086, 300498, 300124, 2421, 300346, 2367, 300390, 300115, 665, 2074, 2603, 2086, 300116, 69, 584, 301175, 2326, 2183, 2584, 998, 2342, 2101, 2060, 3022, 2534, 540, 300118, 795, 936, 678, 966, 2487, 300502, 1203, 2503, 977, 2256, 2348, 667, 300432, 815, 300026, 2560, 683, 2245, 2529, 970, 2002, 300376, 300131, 2606, 2168, 2371, 2531, 2131, 561, 2607, 300459, 2725, 722, 831, 2236, 2676, 2139, 2142, 2435, 503, 301, 2555, 751, 2765, 300058, 65, 300339, 157, 300418, 2050, 2182, 2713, 300433, 620, 2797, 2030, 2719, 2276, 2666, 300772, 2909, 2738, 2239, 300112, 2114, 2761, 2762, 545, 2431, 2575, 2218, 2745, 413, 2743, 2497, 2587, 2463, 59, 300185, 961, 762, 166, 2648, 2519, 300207, 300477, 2454, 300044, 2866, 2271, 2230, 2195, 300088, 2339, 2918, 2896, 600, 2240, 2523, 2145, 300062, 300166, 300735, 301126, 400, 2157, 300068, 2345, 2432, 2570, 983, 300393, 895, 2027, 2090, 300014, 300437, 2172, 63, 876, 1229, 2008, 338, 2407, 912, 2512, 776, 592, 300343, 2714, 2810, 928, 2398, 300750, 2217, 547, 807, 2518, 2176, 300001, 2624, 837, 723, 2617, 2104, 2270, 2564, 2543, 301338, 300015, 2385, 2449, 2231, 2709, 2351, 300024, 333, 619, 2600, 2119, 300274, 591, 2506, 2621, 2199, 630, 301269, 899, 2202, 656, 2047, 2514, 709, 3012, 2451, 2369, 2480, 3816, 2337, 728, 2162, 2113, 2460, 2185, 2547, 58, 2405, 2161, 2204, 858, 2346, 2347, 2610, 2129, 2426, 792, 9, 425, 100, 2, 821, 2045, 2475, 2340, 651, 530, 2594, 564, 536, 2685, 868, 2079, 2537, 2241, 2842, 2334, 2329, 2536, 2411, 2308, 2825, 957, 1, 2350, 2375, 2415, 55, 2466, 2689, 2654, 1339, 2553, 2156, 2903, 300059, 2665, 301330, 671, 3035, 2471, 725, 2031, 40, 2077, 625, 2579, 1236, 595, 1258, 629, 2272, 2630]
    # behave.TEST_axob_bat(data_source, all_inc, 0, openCall_only=True)    # 787.4880 sec


    ###测试20221010委托数最少的100只股票，全天
    # fh.setLevel(logging.INFO)
    # sh.setLevel(logging.ERROR)
    # logger.info('starting TEST_axob_bat')
    # data_source = "data/20221010/sbe_20221010_all.log"
    # min_inc=[200054, 200512, 200030, 200045, 200553, 200011, 200020, 200530, 200025, 300996, 200028, 200152, 301059, 200706, 200550, 200037, 200521, 200505, 200056, 300354, 300930, 301066, 300980, 200029, 200055, 300508, 200019, 200026, 300668, 2569, 200992, 200017, 200761, 300870, 2485, 2870, 200570, 301072, 200581, 200413, 300733, 300069, 300654, 201872, 300916, 200771, 2857, 972, 200541, 200058, 2972, 301099, 300530, 301004, 504, 300757, 2735, 300645, 2692, 300948, 200016, 2200, 300885, 2058, 200468, 300833, 300622, 301239, 200726, 300876, 301106, 2975, 200429, 301057, 300550, 300897, 300791, 300521, 2779, 300892, 300964, 301097, 300489, 300984, 300523, 300971, 300426, 300779, 300515, 301020, 301049, 300816, 300958, 300982, 300715, 300986, 2724, 301012, 301182, 300417]
    # behave.TEST_axob_bat(data_source, min_inc, n_max=0, openCall_only=False) #2128.0222 sec

    ###测试20221010委托数最多的100只股票，全天
    # fh.setLevel(logging.INFO)
    # sh.setLevel(logging.ERROR)
    # logger.info('starting TEST_axob_bat')
    # data_source = "data/20221010/sbe_20221010_all.log"
    # max_inc=[768, 2537, 300068, 2567, 2640, 1238, 895, 2236, 2349, 2475, 428, 300133, 2176, 776, 656, 63, 2269, 300142, 723, 2490, 2371, 933, 630, 1267, 736, 2002, 957, 929, 300274, 671, 2027, 300498, 2207, 2050, 2129, 937, 1255, 2379, 3816, 2828, 300124, 2551, 716, 3027, 564, 560, 521, 2460, 2031, 983, 2543, 792, 100, 593, 2750, 876, 2987, 2241, 411, 2650, 629, 2901, 2415, 333, 2647, 36, 2817, 3005, 2603, 858, 2693, 2466, 677, 2476, 300750, 2714, 2594, 2393, 2, 651, 2795, 3023, 2165, 625, 2514, 40, 965, 2246, 2197, 2614, 1269, 756, 1, 620, 725, 300059, 948, 2641, 2084, 407]
    # behave.TEST_axob_bat(data_source, max_inc, n_max=0, openCall_only=False) #18249.4729


    ###测试20221010所有有委托的只股票，全天
    # fh.setLevel(logging.INFO)
    # sh.setLevel(logging.ERROR)
    # logger.info('starting TEST_axob_bat')
    # data_source = "data/20221010/sbe_20221010_all.log"
    # all_inc=[200054, 200512, 200030, 200045, 200553, 200011, 200020, 200530, 200025, 300996, 200028, 200152, 301059, 200706, 200550, 200037, 200521, 200505, 200056, 300354, 300930, 301066, 300980, 200029, 200055, 300508, 200019, 200026, 300668, 2569, 200992, 200017, 200761, 300870, 2485, 2870, 200570, 301072, 200581, 200413, 300733, 300069, 300654, 201872, 300916, 200771, 2857, 972, 200541, 200058, 2972, 301099, 300530, 301004, 504, 300757, 2735, 300645, 2692, 300948, 200016, 2200, 300885, 2058, 200468, 300833, 300622, 301239, 200726, 300876, 301106, 2975, 200429, 301057, 300550, 300897, 300791, 300521, 2779, 300892, 300964, 301097, 300489, 300984, 300523, 300971, 300426, 300779, 300515, 301020, 301049, 300816, 300958, 300982, 300715, 300986, 2724, 301012, 301182, 300417, 300906, 300938, 300399, 301036, 300955, 300695, 2881, 301023, 301063, 300614, 300512, 301118, 300694, 3010, 300089, 300670, 300462, 300711, 2942, 200488, 300667, 301065, 301043, 2787, 301186, 200596, 300995, 300749, 2748, 2930, 300952, 301229, 2722, 301005, 300657, 2929, 300588, 300538, 300840, 2912, 2313, 300826, 300837, 300516, 300594, 2159, 695, 300557, 2088, 300658, 300445, 300536, 2066, 301051, 300852, 301031, 301000, 3003, 301133, 301068, 300796, 300275, 300631, 300743, 300931, 301076, 2052, 2072, 3026, 300391, 2420, 300548, 300895, 300277, 300626, 2879, 300475, 2802, 300873, 300946, 300580, 300570, 301083, 2301, 300824, 2211, 2577, 300886, 300211, 300893, 300790, 300960, 628, 300341, 300817, 301042, 301008, 300651, 2968, 32, 300478, 300492, 301167, 300518, 301257, 534, 301169, 300349, 300862, 2933, 300713, 300854, 2095, 809, 300561, 300806, 300051, 300243, 300414, 300985, 300096, 586, 2851, 971, 300384, 300280, 300652, 2718, 2961, 2346, 2836, 2778, 200869, 1288, 2729, 300407, 300400, 200539, 300932, 3025, 300752, 300756, 301138, 300560, 300969, 2910, 2331, 2671, 300843, 2790, 300380, 1211, 2571, 300488, 300901, 300798, 301080, 300621, 301349, 1205, 300600, 4, 300947, 300920, 301037, 410, 2998, 300976, 300720, 300473, 300356, 300894, 301193, 752, 2913, 2847, 300905, 1207, 300717, 300858, 301149, 2990, 300690, 2832, 301221, 301067, 301129, 300781, 2963, 2586, 300847, 300857, 300731, 2861, 2499, 2417, 300977, 659, 2923, 300564, 301168, 300787, 2971, 2771, 300381, 300818, 301009, 300935, 300258, 300192, 301092, 300880, 2740, 300907, 300811, 300844, 2977, 300675, 300579, 300812, 301019, 300265, 301237, 2259, 803, 300405, 300684, 300851, 300723, 301058, 300746, 300853, 300936, 1217, 301180, 3033, 2552, 2991, 300281, 300848, 300637, 300442, 300991, 300226, 300500, 301198, 301101, 300334, 2995, 2940, 301010, 300923, 1210, 301283, 2890, 301113, 301213, 3042, 2054, 300810, 300681, 2973, 2869, 300632, 300154, 300549, 300941, 300669, 300683, 301179, 300809, 300730, 2069, 300698, 2376, 300771, 300786, 300701, 300970, 300882, 300913, 301107, 590, 300220, 300642, 300539, 2590, 2872, 300939, 300392, 300987, 300624, 300547, 300161, 300434, 300998, 2887, 300789, 300849, 301085, 301130, 2848, 300697, 2919, 509, 300385, 300899, 300484, 301333, 300583, 300656, 301022, 2758, 301248, 300514, 300522, 300406, 300555, 300461, 301082, 301195, 3017, 301117, 300610, 300389, 301086, 2214, 301162, 300640, 301024, 691, 301312, 300909, 301222, 2086, 300151, 300155, 300486, 300767, 2988, 2931, 300314, 301188, 301081, 301148, 300491, 2859, 301131, 301070, 300700, 301102, 300143, 300855, 300802, 3008, 300025, 301116, 301026, 300949, 2674, 2213, 300150, 301055, 2395, 2981, 2637, 300918, 300221, 300578, 301178, 300943, 2322, 300953, 3007, 300838, 996, 300293, 300988, 906, 300606, 300845, 2698, 300103, 2777, 200725, 300933, 301016, 2741, 300030, 2983, 300788, 2786, 2979, 532, 2678, 301119, 301061, 301032, 26, 2831, 300989, 300374, 300174, 300235, 890, 300611, 301139, 300705, 2381, 301062, 300440, 300721, 301136, 2483, 2105, 300535, 301321, 300823, 2849, 2937, 2504, 300829, 301289, 2102, 2360, 2970, 2694, 300795, 300865, 2014, 301279, 300394, 300706, 2609, 301006, 300956, 300411, 300921, 2993, 300218, 2886, 300951, 300554, 300968, 300808, 300997, 806, 300993, 301125, 301108, 300305, 300410, 300753, 300959, 300961, 2595, 301201, 300283, 626, 2664, 301045, 300272, 2193, 300576, 2227, 301003, 300972, 300236, 301259, 5, 2808, 300922, 3015, 300517, 2021, 301288, 300162, 300490, 2775, 301166, 2521, 300649, 301151, 300313, 300928, 300994, 2209, 2401, 300815, 300290, 2986, 300647, 2801, 300825, 2669, 2755, 300585, 300722, 300963, 300609, 301093, 300747, 300597, 300619, 2687, 2357, 300912, 300800, 300898, 2760, 300902, 669, 300679, 2798, 300641, 300644, 2980, 301013, 300441, 300978, 2686, 2732, 2076, 2636, 300298, 2358, 301160, 300531, 2825, 301079, 301033, 779, 300835, 301126, 3038, 300927, 301256, 300333, 300278, 300375, 300469, 300738, 2811, 2324, 300169, 300234, 300577, 2721, 96, 300636, 300599, 2327, 300419, 301052, 200012, 300864, 300572, 1313, 300975, 2842, 301047, 300828, 300200, 635, 300225, 301181, 2247, 576, 301096, 301007, 153, 2892, 301028, 301029, 301046, 2522, 300680, 2730, 300617, 1228, 300286, 523, 300605, 301077, 301206, 301228, 2853, 2653, 2198, 300739, 300868, 300662, 2830, 301211, 300455, 300126, 300925, 1215, 3016, 301053, 300871, 300891, 2672, 300245, 300615, 301197, 300085, 300231, 300513, 300686, 300805, 300076, 301098, 2098, 300453, 300382, 301163, 300889, 300643, 2956, 679, 2388, 300227, 2608, 2116, 766, 2734, 300141, 300571, 301120, 2806, 300678, 2845, 300665, 300712, 3031, 2763, 2927, 301112, 2696, 1208, 720, 2544, 2900, 300219, 300537, 300153, 2099, 2356, 301263, 935, 300807, 2438, 910, 300329, 300860, 300732, 300856, 3028, 300940, 300504, 300321, 2574, 300608, 2833, 2122, 300543, 301218, 300427, 300429, 300562, 2144, 300590, 300575, 2005, 300559, 300607, 300648, 2899, 301041, 300366, 3009, 300378, 300691, 300291, 2766, 300107, 2893, 300183, 2824, 300965, 300553, 300628, 300910, 300368, 48, 2397, 2250, 301038, 300386, 300727, 300421, 300240, 301122, 300501, 2293, 300416, 3019, 300780, 300167, 2535, 300371, 915, 300360, 2199, 300942, 300470, 300173, 300620, 2633, 300444, 300911, 300209, 2996, 2184, 300338, 300591, 301156, 2423, 300834, 300330, 300966, 608, 2782, 300839, 300011, 300424, 2287, 300890, 548, 300877, 70, 403, 300370, 300452, 2816, 300342, 56, 300210, 300841, 2282, 2749, 300596, 300466, 1206, 301159, 300042, 300248, 300710, 301035, 2949, 300134, 300768, 708, 2813, 300831, 23, 300556, 301087, 2203, 300195, 300149, 11, 300270, 300300, 300004, 1319, 301027, 828, 705, 300097, 2153, 1212, 301298, 2838, 300540, 300175, 300288, 2494, 301025, 301002, 2392, 300703, 300702, 300120, 2855, 301220, 301278, 300306, 300005, 300673, 38, 300687, 300230, 300447, 300688, 300460, 300983, 300689, 300203, 301189, 2318, 737, 2134, 2706, 2338, 301192, 2984, 301185, 301338, 300350, 300836, 2502, 300396, 301078, 1309, 300719, 300266, 2957, 3036, 300766, 3001, 300279, 300638, 2978, 301001, 10, 300099, 300659, 301056, 301286, 300546, 301191, 29, 300250, 300344, 2096, 300395, 300602, 300881, 300264, 300532, 2308, 3032, 301318, 300190, 300506, 300332, 300685, 300866, 301100, 2843, 300915, 300520, 300425, 2796, 1219, 2484, 300246, 300318, 300801, 30, 300908, 300365, 300867, 300423, 300092, 300340, 301200, 301209, 2328, 300214, 913, 2362, 300256, 632, 2915, 300357, 301103, 300163, 300471, 985, 300499, 300625, 301110, 300582, 300736, 2889, 300301, 300566, 300322, 962, 2823, 2902, 300139, 1872, 300205, 301048, 301150, 2114, 300241, 2827, 2767, 300480, 2690, 300542, 300215, 300765, 2743, 2451, 2953, 300388, 300887, 2399, 300630, 300563, 2960, 2243, 2295, 553, 300331, 2315, 850, 300900, 2430, 2878, 2875, 300509, 710, 300846, 300034, 2841, 2187, 301121, 886, 2683, 301075, 300692, 2950, 2846, 300729, 300259, 688, 2576, 300745, 526, 300449, 2753, 2528, 301123, 300320, 300990, 301015, 698, 2453, 2253, 2029, 2365, 300262, 2025, 300238, 2655, 300255, 2679, 300799, 701, 300135, 692, 1226, 300581, 531, 300708, 3039, 300019, 300140, 301091, 2189, 2769, 300029, 300437, 2858, 300208, 607, 300950, 2172, 300310, 300878, 300016, 300041, 301266, 300446, 2556, 2559, 300584, 300493, 2659, 301190, 300257, 2416, 300526, 300050, 2441, 2513, 7, 301300, 300196, 300454, 300055, 300289, 3020, 2170, 301187, 2117, 301258, 300945, 300879, 300100, 300254, 300830, 2599, 2006, 2136, 2654, 301196, 925, 2719, 2757, 300774, 2345, 833, 300567, 300276, 300682, 2667, 2898, 300242, 1323, 2347, 300422, 300832, 2316, 1289, 605, 300616, 2034, 2398, 300510, 565, 2319, 2016, 2888, 301011, 301128, 2015, 301017, 2019, 2946, 2368, 757, 301135, 301073, 2479, 300552, 2123, 2976, 551, 2300, 2406, 2876, 301040, 2715, 300309, 300056, 2290, 301155, 300797, 2333, 300067, 2224, 2017, 300627, 300066, 300635, 533, 300304, 300086, 300319, 200625, 300487, 300213, 711, 2028, 2959, 819, 300467, 300351, 995, 2150, 301302, 2238, 2288, 633, 301090, 2229, 2501, 2516, 301021, 300598, 2410, 300770, 300095, 300121, 300415, 300040, 2320, 300937, 859, 2799, 37, 2053, 922, 2999, 300439, 300106, 300979, 2877, 300369, 2482, 300737, 300074, 300660, 655, 300725, 2097, 300716, 1229, 300519, 2434, 300819, 2448, 2605, 993, 300709, 300252, 300842, 2449, 300973, 2772, 300108, 1202, 1216, 300307, 301111, 2681, 2871, 2219, 300861, 2731, 300387, 802, 919, 2009, 300317, 300172, 2652, 58, 300402, 2264, 301306, 300269, 2616, 300294, 300302, 301234, 300755, 2040, 2262, 2727, 300187, 300112, 301088, 798, 300863, 2880, 3043, 2541, 928, 300063, 300603, 300229, 567, 300783, 301205, 900, 2780, 2868, 300102, 2768, 2829, 301127, 300792, 300168, 300592, 541, 300629, 2575, 300589, 2826, 839, 300726, 2695, 2921, 2232, 2440, 17, 813, 300032, 862, 639, 2752, 666, 606, 2190, 2785, 300545, 300048, 2321, 1696, 869, 2363, 300718, 2662, 2985, 300762, 2428, 301069, 300137, 631, 2296, 2676, 2462, 2644, 2206, 2632, 300018, 300165, 300193, 2012, 2235, 2344, 300232, 300078, 967, 2651, 300903, 300336, 2351, 300741, 700, 2675, 2055, 905, 818, 300198, 300176, 300180, 300222, 936, 2225, 301207, 300352, 672, 2281, 300528, 300661, 2303, 2928, 2862, 566, 572, 571, 300311, 2161, 409, 976, 823, 300328, 301208, 902, 990, 3006, 2082, 2645, 2515, 300031, 301030, 955, 301132, 2691, 2112, 2661, 2491, 300132, 300160, 300020, 2545, 300123, 2623, 300448, 2982, 2141, 300919, 300046, 300663, 301177, 2883, 2221, 2725, 300268, 2138, 2378, 2643, 16, 300957, 301217, 300926, 300435, 300541, 300534, 893, 300888, 2367, 2867, 3011, 300188, 300465, 880, 300412, 2457, 300612, 2026, 300271, 2452, 300533, 2781, 1270, 300353, 1914, 301233, 2093, 300239, 761, 300359, 300558, 682, 301226, 1234, 300428, 2810, 300233, 300494, 301137, 2087, 2582, 2611, 1296, 719, 300062, 753, 923, 2283, 300285, 2728, 300650, 300323, 2286, 300443, 300457, 300337, 2536, 1268, 300295, 300593, 301326, 3030, 2792, 2626, 150, 2354, 2263, 2573, 300119, 889, 2228, 2387, 300125, 2361, 1231, 524, 2111, 2557, 2649, 300735, 300377, 2275, 2997, 300247, 300664, 2646, 2163, 300981, 2201, 300131, 789, 300179, 300485, 300420, 2540, 2226, 2003, 300696, 300674, 2083, 2067, 300481, 2922, 2057, 300761, 536, 2815, 2323, 300212, 2708, 2254, 903, 2222, 2519, 2621, 300634, 301270, 300869, 3002, 2712, 597, 301276, 2309, 3021, 300511, 2106, 300013, 2010, 2627, 2965, 300587, 301236, 911, 300083, 2085, 2291, 301215, 300197, 2474, 2658, 301018, 2248, 785, 2178, 2130, 2955, 300138, 2140, 2606, 300358, 301050, 300072, 300036, 2215, 3013, 2421, 1896, 637, 1317, 300586, 2023, 2481, 782, 537, 2366, 2533, 300148, 2564, 610, 300436, 2534, 300077, 300113, 2391, 2386, 561, 2776, 2270, 1213, 300404, 426, 2873, 300883, 2788, 301039, 301158, 34, 2759, 2255, 557, 300045, 657, 2158, 826, 19, 2613, 616, 301161, 726, 2208, 300105, 1965, 300364, 601, 2149, 973, 300022, 300822, 2992, 599, 2177, 989, 2549, 300464, 415, 31, 2666, 885, 300082, 300114, 301071, 300345, 430, 1308, 2529, 2108, 987, 791, 2762, 2546, 2840, 851, 1203, 2160, 301231, 300127, 300769, 544, 2918, 981, 2492, 2425, 2967, 2284, 300130, 2427, 2638, 300655, 6, 300324, 3012, 45, 300740, 300479, 2906, 300098, 2047, 300177, 300084, 615, 300527, 2343, 966, 2751, 676, 1201, 2181, 300299, 159, 300053, 300061, 2596, 2341, 300671, 2369, 2819, 707, 2455, 2916, 2593, 301235, 420, 300775, 2700, 2194, 507, 2737, 301296, 2039, 2523, 300497, 300707, 2660, 2302, 300043, 2412, 820, 2446, 300047, 2375, 301308, 300244, 2467, 2688, 61, 301199, 301212, 300079, 2583, 790, 2180, 300477, 529, 301216, 300292, 609, 681, 596, 300623, 2370, 2488, 2558, 300772, 958, 156, 2373, 2538, 300472, 300793, 300618, 300284, 300145, 2004, 2103, 301309, 2048, 2043, 2587, 587, 2298, 300057, 2943, 158, 2167, 2566, 300398, 2429, 2063, 300303, 2154, 2642, 2935, 300507, 301183, 2705, 2274, 2820, 3037, 301328, 901, 300525, 300049, 417, 2527, 949, 2563, 300573, 300401, 99, 2137, 525, 65, 1336, 2174, 2350, 2109, 2863, 300896, 300237, 917, 2164, 2941, 300091, 301115, 969, 300821, 300672, 703, 2895, 2435, 518, 300308, 300147, 300569, 50, 301227, 570, 301330, 301219, 300776, 718, 20, 2132, 652, 3000, 300850, 2917, 777, 300181, 539, 300814, 419, 300505, 2413, 2355, 3035, 2268, 2803, 301175, 555, 559, 2119, 300503, 300476, 300260, 501, 2294, 751, 2133, 2635, 2818, 300054, 2041, 300117, 300917, 2186, 2217, 912, 300191, 2945, 950, 680, 300267, 811, 2562, 300613, 503, 300803, 300109, 300884, 301282, 300297, 2348, 543, 2588, 300409, 300021, 300006, 300002, 2581, 2911, 2746, 300355, 563, 2424, 300111, 300012, 997, 812, 717, 300456, 505, 2550, 690, 2951, 300071, 300742, 2396, 2311, 2578, 300129, 300967, 2068, 300007, 2042, 300159, 2885, 2409, 2402, 300962, 2337, 300052, 300296, 300327, 2454, 2380, 300929, 300001, 300397, 2404, 300820, 301109, 1266, 959, 2702, 2073, 21, 2278, 877, 300128, 800, 510, 2612, 2510, 2882, 2242, 300065, 300751, 300676, 685, 300194, 300115, 408, 90, 2332, 2307, 2390, 600, 498, 2512, 2891, 2306, 2498, 2075, 908, 300199, 712, 2168, 2791, 816, 2297, 2989, 2663, 2745, 2188, 2384, 2765, 300152, 300502, 838, 2701, 2233, 2125, 2089, 2266, 2496, 2625, 2952, 2258, 488, 796, 2032, 2237, 28, 300157, 2783, 603, 881, 2212, 300204, 793, 300758, 883, 300458, 528, 2677, 300224, 2091, 62, 3040, 2742, 2090, 300633, 2261, 2656, 301339, 2280, 755, 2597, 861, 2110, 423, 2756, 852, 300748, 2051, 2126, 2445, 2113, 300827, 2807, 300551, 2461, 988, 2265, 2151, 301060, 300075, 702, 1339, 2152, 300451, 2046, 2852, 612, 758, 2822, 582, 300249, 300070, 2038, 55, 300033, 300379, 300468, 300184, 301366, 2081, 300813, 2059, 2835, 767, 2962, 300316, 300408, 2539, 1209, 2036, 300773, 300080, 2020, 2682, 2905, 300035, 733, 301095, 550, 2383, 2135, 2310, 2107, 951, 300037, 2500, 300483, 2631, 1283, 301238, 404, 300495, 2400, 300136, 300189, 3029, 2723, 2947, 836, 2793, 738, 788, 815, 921, 300463, 2436, 300223, 2249, 2330, 1318, 2374, 678, 2216, 2495, 300010, 300287, 2439, 589, 581, 300263, 665, 300376, 2925, 636, 300474, 300273, 2336, 429, 300992, 520, 300403, 686, 2864, 59, 627, 930, 2837, 300017, 300693, 2591, 27, 300383, 663, 2478, 2939, 301089, 300666, 918, 300432, 35, 2517, 2444, 300087, 42, 300110, 517, 892, 2470, 2065, 2520, 888, 2162, 2628, 300009, 1218, 2657, 2800, 3018, 2080, 78, 2173, 2565, 2120, 2155, 25, 300859, 729, 2443, 713, 2920, 300228, 3022, 2252, 2932, 300081, 2442, 300529, 622, 2903, 401, 300604, 2493, 300373, 300027, 727, 2526, 2171, 300777, 999, 2277, 2239, 2908, 2733, 516, 2285, 2469, 300346, 300724, 300146, 2045, 8, 2524, 1316, 863, 2505, 558, 2699, 300601, 963, 2909, 848, 300347, 2860, 2139, 39, 2061, 2697, 300595, 2468, 2615, 2673, 2078, 1222, 2736, 300170, 301327, 2317, 2353, 739, 300094, 2276, 2472, 301268, 878, 2422, 300261, 783, 2377, 300039, 2314, 2326, 301, 2011, 300158, 2938, 301336, 151, 49, 2292, 2948, 2127, 927, 301369, 300206, 960, 2289, 2580, 822, 300315, 2897, 2267, 2839, 2850, 2312, 300008, 982, 300699, 2966, 300363, 2471, 2299, 300073, 400, 2465, 300413, 300418, 2592, 300101, 650, 2431, 2079, 2437, 2530, 155, 300326, 2418, 1230, 300024, 938, 2364, 731, 2926, 2408, 810, 715, 2958, 2572, 786, 300251, 2511, 514, 2342, 300185, 2179, 300343, 735, 2183, 887, 300875, 300677, 300482, 953, 2629, 2598, 2210, 2648, 952, 2169, 300171, 598, 619, 617, 2148, 14, 2033, 300778, 2601, 2579, 301176, 300166, 592, 860, 623, 300058, 2382, 2414, 2809, 2547, 300182, 2584, 2585, 2553, 300759, 545, 875, 421, 750, 2602, 2403, 2805, 300496, 2145, 1332, 2101, 829, 2713, 300339, 2389, 3004, 2865, 897, 2273, 300433, 2548, 300565, 584, 3041, 300282, 668, 2761, 2531, 2372, 1259, 89, 2251, 2115, 2218, 300438, 546, 2329, 300782, 2668, 2789, 300116, 301152, 998, 2192, 2060, 595, 300568, 300763, 2007, 60, 300639, 931, 2600, 2726, 300335, 2245, 722, 2305, 300459, 301171, 157, 300207, 2821, 554, 301153, 2205, 2256, 926, 2456, 402, 2064, 1258, 2419, 2508, 300785, 968, 2560, 2717, 300430, 2191, 2092, 2244, 2689, 2411, 2231, 2570, 2234, 2146, 2707, 68, 2304, 300390, 732, 2561, 2182, 2774, 837, 422, 2797, 978, 2056, 898, 1331, 2747, 961, 825, 830, 2394, 683, 2062, 795, 2670, 573, 300653, 2812, 801, 300144, 2335, 2624, 2044, 2037, 300122, 762, 2607, 2024, 2325, 2555, 1227, 300348, 506, 909, 66, 2518, 2532, 778, 2969, 977, 2334, 300450, 2001, 2507, 2703, 547, 2480, 300164, 300217, 416, 2121, 2049, 2487, 2739, 425, 759, 975, 2634, 46, 2459, 868, 2486, 980, 661, 670, 2506, 932, 2405, 300999, 300872, 301285, 300093, 2094, 530, 882, 2175, 2639, 2936, 300118, 2185, 2223, 300088, 2030, 538, 2896, 9, 2542, 2202, 2156, 2339, 513, 2204, 301319, 540, 300044, 856, 2230, 2426, 799, 2503, 2856, 1236, 2568, 2407, 2128, 697, 2013, 301331, 69, 300393, 2131, 2008, 1979, 2630, 2385, 728, 2685, 2118, 2240, 821, 2157, 552, 2458, 2620, 2195, 2773, 667, 300760, 2074, 301269, 2272, 2100, 638, 899, 2352, 2077, 591, 970, 831, 797, 2622, 2463, 568, 1330, 2665, 88, 413, 2884, 2166, 12, 2142, 2035, 2433, 2271, 2907, 2104, 2617, 920, 721, 2738, 300014, 300003, 2554, 519, 166, 807, 2124, 709, 2709, 2279, 2022, 338, 300026, 2610, 2866, 300253, 2497, 2489, 300015, 2340, 2432, 301313, 2589, 768, 2537, 300068, 2567, 2640, 1238, 895, 2236, 2349, 2475, 428, 300133, 2176, 776, 656, 63, 2269, 300142, 723, 2490, 2371, 933, 630, 1267, 736, 2002, 957, 929, 300274, 671, 2027, 300498, 2207, 2050, 2129, 937, 1255, 2379, 3816, 2828, 300124, 2551, 716, 3027, 564, 560, 521, 2460, 2031, 983, 2543, 792, 100, 593, 2750, 876, 2987, 2241, 411, 2650, 629, 2901, 2415, 333, 2647, 36, 2817, 3005, 2603, 858, 2693, 2466, 677, 2476, 300750, 2714, 2594, 2393, 2, 651, 2795, 3023, 2165, 625, 2514, 40, 965, 2246, 2197, 2614, 1269, 756, 1, 620, 725, 300059, 948, 2641, 2084, 407]
    # behave.TEST_axob_bat(data_source, all_inc, n_max=0, openCall_only=False) #

    # #创业板上市首日波动性中断
    # logger.info('starting TEST_axob_bat')
    # behave.TEST_axob(20220812, 301336, 0)

    # #市价单后放入笼子
    # logger.info('starting TEST_axob_bat')
    # behave.TEST_axob(20221010, 300133, 0)

    # #本方最优卖单 但无本方价格：涨停时的本方最优卖单，填入涨停价
    # logger.info('starting TEST_axob_bat')
    # behave.TEST_axob(20221010, 407, 0)

    # #市价单后新订单在笼子外
    # logger.info('starting TEST_axob_bat')
    # behave.TEST_axob(20221010, 300365, 0)

    ### 20220617测试错误
    # logger.info('starting TEST_axob_bat')
    # data_source = "data/20220617/bat_test2.log"
    # ptn=[301129]
    # behave.TEST_axob_bat(data_source, ptn, n_max=0, openCall_only=False, logPack=logPack) #

    ### 20220812测试错误
    # logger.info('starting TEST_axob_bat')
    # data_source = "data/20220812/bat_test.log"
    # ptn=[200539, 698, 300657]
    # # ptn=[300657]
    # behave.TEST_axob_bat(data_source, ptn, n_max=0, openCall_only=False, logPack=logPack) #

    ### 20221010测试错误
    # logger.info('starting TEST_axob_bat')
    # data_source = "data/20221010/bat_test.log"
    # ptn=[2417, 300909, 301079, 300607, 300911, 301220, 301318, 2889, 300799, 3020, 300718, 2623, 3002, 2955, 3013, 2791, 300699, 301176, 2805, 300872, 301285, 301319, 2738, 301313]
    # ptn=[301313]
    # behave.TEST_axob_bat(data_source, ptn, n_max=0, openCall_only=False, logPack=logPack, HHMMSSms_max=20221010095212000) #

    #新精度
    logger.info('starting TEST_axob_bat')
    behave.TEST_axob(20221010, 301313, 0)

    #########
    # logger.info('starting TEST_axob_SL')
    # behave.TEST_axob_SL(20220422, 1)
    
    # logger.info('starting TEST_mu_SL')
    # data_source = "data/20221010/sbe_20221010_all.log"
    # # min_inc=[200054, 200512, 200030, 200045, 200553, 200011, 200020, 200530, 200025, 300996, 200028, 200152, 301059, 200706, 200550, 200037, 200521, 200505, 200056, 300354, 300930, 301066, 300980, 200029, 200055, 300508, 200019, 200026, 300668, 2569, 200992, 200017, 200761, 300870, 2485, 2870, 200570, 301072, 200581, 200413, 300733, 300069, 300654, 201872, 300916, 200771, 2857, 972, 200541, 200058, 2972, 301099, 300530, 301004, 504, 300757, 2735, 300645, 2692, 300948, 200016, 2200, 300885, 2058, 200468, 300833, 300622, 301239, 200726, 300876, 301106, 2975, 200429, 301057, 300550, 300897, 300791, 300521, 2779, 300892, 300964, 301097, 300489, 300984, 300523, 300971, 300426, 300779, 300515, 301020, 301049, 300816, 300958, 300982, 300715, 300986, 2724, 301012, 301182, 300417]
    # min_inc=[300668, 300996, 301059, 1]
    # behave.TEST_mu_SL(data_source, min_inc) #
